/* fastuts.js | Developed by Guilherme Augusto Madaleno <guimadaleno@me.com>| www.guimadaleno.com| (C) 2014 All rights reserved| Licensed under GNU GPL */
$.fn.fastuts=function(t){var s=t&&t.buttons&&t.buttons.close?t.buttons.close.class:".fastuts-buttons-close",o=t&&t.buttons&&t.buttons.next?t.buttons.next.class:".fastuts-buttons-next",n=t&&t.buttons&&t.buttons.prev?t.buttons.prev.class:".fastuts-buttons-prev",e=".fastuts-tooltip",l=0,a=this,c=(this.selector,$(a).size()),i=1,u=t&&t.buttons&&t.buttons.close?t.buttons.close.text:"X",r=t&&t.buttons&&t.buttons.next?t.buttons.next.text:"&#10095;",p=t&&t.buttons&&t.buttons.prev?t.buttons.prev.text:"&#10094;",b={init:function(){$("body").append('<div id="fastuts-main-holder" class="fastuts-main-holder" style="display: none;"><div class="fastuts-overlay"></div><div class="fastuts-holder"><div class="'+e.replace(".","")+'"><div class="fastuts-text"></div><div class="fastuts-buttons"><a href="#" class="'+s.replace(".","")+'">'+u+'</a><a href="#" class="'+n.replace(".","")+'">'+p+'</a><a href="#" class="'+o.replace(".","")+'">'+r+"</a></div></div></div></div>"),c&&(b.displayBlock(a[i-1]),b.displayButtons(1,c),t&&t.onReady&&"function"===$.type(t.onReady)&&t.onReady(),$(n).off("click").on("click",function(){b.prevBlock(function(){return t&&t.buttons&&t.buttons.prev&&t.buttons.prev.callback&&"function"===$.type(t.buttons.prev.callback)&&t.buttons.prev.callback(l,a),!1})}),$(o).off("click").on("click",function(){b.nextBlock(function(){return t&&t.buttons&&t.buttons.next&&t.buttons.next.callback&&"function"===$.type(t.buttons.next.callback)&&t.buttons.next.callback(l,a),!1})}),t&&t.settings&&1==t.settings.allowKeys&&$(document).keyup(function(s){37==s.keyCode?b.prevBlock(function(){return t&&t.buttons&&t.buttons.prev&&t.buttons.prev.callback&&"function"===$.type(t.buttons.prev.callback)&&t.buttons.prev.callback(l,a),!1}):39==s.keyCode&&b.nextBlock(function(){return t&&t.buttons&&t.buttons.next&&t.buttons.next.callback&&"function"===$.type(t.buttons.next.callback)&&t.buttons.next.callback(l,a),!1})}),$(s).off("click").on("click",function(){return b.hide(),t&&t.buttons&&t.buttons.close&&t.buttons.close.callback&&"function"===$.type(t.buttons.close.callback)&&t.buttons.close.callback(),!1}),t&&t.overlay&&1==t.overlay.allowEscapeKey&&$(document).keyup(function(s){27==s.keyCode&&(t&&t.overlay&&t.overlay.onClose&&"function"===$.type(t.overlay.onClose)&&t.overlay.onClose(),b.hide())}),$(".fastuts-overlay").off("click").on("click",function(){return t&&t.overlay&&t.overlay.onClose&&"function"===$.type(t.overlay.onClose)&&t.overlay.onClose(),b.hide(),!1}),$("#fastuts-main-holder").fadeIn(200))},hide:function(){$(".fastuts-main-holder").fadeOut(100,function(){i=1,l=0})},displayButtons:function(t,s){1==t?($(n).hide(),$(o).show()):t==s?($(n).show(),$(o).hide()):($(n).show(),$(o).show())},displayBlock:function(s){if($(s).html()){var o=$(s).position(),n=$(s).css("position"),l=t&&t.settings&&t.settings.spacing&&-1==t.settings.spacing.indexOf()?parseInt(t.settings.spacing.replace("px","")):40,c=parseInt($(s).css("width").replace("px",""))+l,i=parseInt($(s).css("height").replace("px",""))+l,u=$.isNumeric(o.top)?o.top-l/2:l/2,r=$.isNumeric(o.left)?o.left-l/2:l/2,p=u+i,b={position:"absolute",width:c+"px",height:i+"px",top:u+"px",left:r+"px",webkitTransition:t&&t.settings.time?"all "+t.settings.time+"s":"all 0.4s",transition:t&&t.settings.time?"all "+t.settings.time+"s":"all 0.4s",backgroundColor:$("body").css("backgroundColor")?$("body").css("backgroundColor"):"#FFFFFF"};p>=$(window).height()-200?$(e).removeClass("fastuts-tooltip-arrow-top").addClass("fastuts-tooltip-arrow-bottom").css({top:"-"+($(e).height()+20)+"px",left:"50%",marginLeft:"-"+$(e).width()/2+"px"}):$(e).removeClass("fastuts-tooltip-arrow-bottom").addClass("fastuts-tooltip-arrow-top").css({top:i+20+"px",left:"50%",marginLeft:"-"+$(e).width()/2+"px"}),$(e).children(".fastuts-text").html($(s).attr("data-fastuts-tip")),$(a).css({zIndex:"auto",position:n}),$(s).css({zIndex:"2147483647",position:"relative"}),$(".fastuts-overlay").css({position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px",backgroundColor:t&&t.overlay&&t.overlay.color?t.overlay.color:"rgba(0,0,0,0.8)"}),$(".fastuts-main-holder").css({position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",zIndex:"2147483637"}),$(".fastuts-holder").css(b)}},nextBlock:function(t){c>i&&(l=i+=1,b.displayBlock(a[i-1]),b.displayButtons(l,c),t())},prevBlock:function(t){i>1&&(l=i-=1,b.displayBlock(a[i-1]),b.displayButtons(l,c),t())}};b.init()};